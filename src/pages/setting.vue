<template>
  <div>
    <div class="app-wrap">
      <!---->
      <goodshead></goodshead>
      <div data-v-8187cc2e class="wrapper">
        <div data-v-8187cc2e class="card-item">
          <a
            data-v-8187cc2e
            href="javascript:;"
            class="member-info flex flex-align-center flex-justify-between"
          >
            <div data-v-8187cc2e class="flex flex-align-center">
              <img
                data-v-1620e4da
                data-v-8187cc2e
                src="https://img2.ch999img.com//images/usericon.png.webp"
                width
                height
                class="lazy-img avatar"
              >
              <div data-v-8187cc2e class="flex flex-col flex-justify">
                <h4 data-v-8187cc2e class="font-18">{{user}}</h4>
                <div data-v-8187cc2e class="flex margin-top">
                  <div data-v-8187cc2e class="flex flex-center">
                    <img
                      data-v-1620e4da
                      data-v-8187cc2e
                      src="https://img2.ch999img.com/newstatic//916/76b7bebb5d76d8.png.webp"
                      width
                      height
                      class="lazy-img level-icon"
                    >
                  </div>
                  <div data-v-8187cc2e class="flex flex-center margin-left">
                    <img
                      data-v-1620e4da
                      data-v-8187cc2e
                      src="https://img2.ch999img.com/newstatic//912/4448465aaa206c.png.webp"
                      width
                      height
                      class="lazy-img other-icon"
                    >
                    <span data-v-8187cc2e class="font-13 black">未绑定</span>
                  </div>
                </div>
              </div>
            </div>
            <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
          </a>
          <!---->
          <a
            data-v-8187cc2e
            href="javascript:;"
            class="item flex flex-justify-between flex-align-center"
          >
            <span data-v-8187cc2e class="font-16">收货地址管理</span>
            <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
          </a>
        </div>
        <div data-v-8187cc2e>
          <h4 data-v-8187cc2e class="item-title">账户管理</h4>
          <div data-v-8187cc2e class="card-item">
            <a
              data-v-8187cc2e
              href="javascript:;"
              class="item flex flex-justify-between flex-align-center border-bottom"
            >
              <span data-v-8187cc2e class="font-16">账号绑定</span>
              <div data-v-8187cc2e class="flex flex-center">
                <span data-v-8187cc2e class="main-color">
                  <!---->
                </span>
                <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
              </div>
            </a>
            <a
              data-v-8187cc2e
              href="javascript:;"
              class="item flex flex-justify-between flex-align-center border-bottom"
            >
              <span data-v-8187cc2e class="font-16">登录密码</span>
              <div data-v-8187cc2e class="flex flex-center">
                <span data-v-8187cc2e class="main-color">
                  <!---->
                </span>
                <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
              </div>
            </a>
            <a
              data-v-8187cc2e
              href="javascript:;"
              class="item flex flex-justify-between flex-align-center border-bottom"
            >
              <span data-v-8187cc2e class="font-16">支付密码</span>
              <div data-v-8187cc2e class="flex flex-center">
                <span data-v-8187cc2e class="main-color">
                  <!---->
                </span>
                <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
              </div>
            </a>
            <a
              data-v-8187cc2e
              href="javascript:;"
              class="item flex flex-justify-between flex-align-center border-bottom"
            >
              <span data-v-8187cc2e class="font-16">我的特权</span>
              <div data-v-8187cc2e class="flex flex-center">
                <span data-v-8187cc2e class="main-color">
                  <!---->
                </span>
                <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
              </div>
            </a>
          </div>
        </div>
        <div data-v-8187cc2e>
          <h4 data-v-8187cc2e class="item-title">系统设置</h4>
          <div data-v-8187cc2e class="card-item">
            <a
              data-v-8187cc2e
              href="javascript:;"
              class="item flex flex-justify-between flex-align-center border-bottom"
            >
              <span data-v-8187cc2e class="font-16">人脸识别</span>
              <div data-v-8187cc2e class="flex flex-center">
                <span data-v-8187cc2e class="main-color">
                  <!---->
                </span>
                <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
              </div>
            </a>
          </div>
        </div>
        <div data-v-8187cc2e>
          <h4 data-v-8187cc2e class="item-title">关于九机</h4>
          <div data-v-8187cc2e class="card-item">
            <a
              data-v-8187cc2e
              href="javascript:;"
              class="item flex flex-justify-between flex-align-center border-bottom"
            >
              <span data-v-8187cc2e class="font-16">隐私协议</span>
              <div data-v-8187cc2e class="flex flex-center">
                <span data-v-8187cc2e class="main-color">
                  <!---->
                </span>
                <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
              </div>
            </a>
            <a
              data-v-8187cc2e
              href="javascript:;"
              class="item flex flex-justify-between flex-align-center border-bottom"
            >
              <span data-v-8187cc2e class="font-16">意见反馈</span>
              <div data-v-8187cc2e class="flex flex-center">
                <span data-v-8187cc2e class="main-color">
                  <!---->
                </span>
                <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
              </div>
            </a>
            <a
              data-v-8187cc2e
              href="javascript:;"
              class="item flex flex-justify-between flex-align-center border-bottom"
            >
              <span data-v-8187cc2e class="font-16">关于我们</span>
              <div data-v-8187cc2e class="flex flex-center">
                <span data-v-8187cc2e class="main-color">
                  <!---->
                </span>
                <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
              </div>
            </a>
            <a
              data-v-8187cc2e
              href="javascript:;"
              class="item flex flex-justify-between flex-align-center border-bottom"
            >
              <span data-v-8187cc2e class="font-16">下载APP</span>
              <div data-v-8187cc2e class="flex flex-center">
                <span data-v-8187cc2e class="main-color">
                  <!---->
                </span>
                <i data-v-8187cc2e class="fa fa-angle-right grey-9 font-20"></i>
              </div>
            </a>
            <a
              data-v-8187cc2e
              href="javascript:;"
              class="item flex flex-justify-between flex-align-center border-bottom"
            >
              <span data-v-8187cc2e class="font-16">全国服务热线</span>
              <div data-v-8187cc2e class="flex flex-center">
                <span data-v-8187cc2e class="main-color">
                  <i data-v-8187cc2e class="fa fa-volume-control-phone"></i> 400-008-3939
                </span>
                <!---->
              </div>
            </a>
          </div>
        </div>
        <a
          data-v-8187cc2e
          href="javascript:;"
          class="logout main-bgcolor font-16"
          @click="logout"
        >退出登录</a>
      </div>
    </div>
  </div>
</template>

<script>
import "../assets/css/mine.css";
import goodshead from "./goodshead.vue";
// import setting from "../components/setting.vue";
export default {
  components: {
    goodshead
  },
  data() {
    return {
      user: ""
    };
  },
  methods: {
    logout() {
      // console.log(11);
      localStorage.removeItem("user");
      this.user = "";
      this.$router.push({ name: "Mine" });
    }
  },
  beforeCreate() {
    // console.log(JSON.parse(localStorage.getItem("user")));

    var obj = JSON.parse(localStorage.getItem("user"));
    if (obj) {
      var logintime = obj.logintime;
      // console.log(obj.logintime * 1000 - new Date());
      if (obj.logintime * 1000 - new Date() <= 0) {
        localStorage.removeItem("user");
      } else {
        var params = new URLSearchParams();
        params.append("token", obj.token);
        params.append("username", obj.username);
        this.$axios({
          method: "post",
          url: "http://localhost:5201/api/checklogin.php",
          data: params
        }).then(res => {
          // console.log(res.data.code);
          if (res.data.code == 1) {
            // this.$router.push({ name: "Mine" });

            this.user = res.data.username;
          }
        });
      }
    } else {
      this.user = "";
      this.$router.push({ name: "Mine" });
    }
  }
};
</script>

<style>
</style>
